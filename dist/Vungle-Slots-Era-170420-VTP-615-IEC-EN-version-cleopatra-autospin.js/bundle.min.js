!function e(t,i,n){function o(s,r){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i=t[s][1][e];return o(i||e)},u,u.exports,e,t,i,n)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({coin_burst_01:[{img:"logo.png"},{img:"cta.png"}],coin_cascade_05:[{img:"logo2.png"}]},"coin_cascade_05",[{img:"spin_button.png"},{img:"symbols.png"}])},{}],2:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("chipBurst",PiecSettings.assetsDir+"chips_burst.png",300,300,24)}function o(e,t){var i=document.getElementById("coin-effect-area"),n=[20,55,95,15,50,97],o=[30,20,45,95,80,95],a=[0,100,250,300,200,50],r=[1,1,1,1,1,1],l=[50,50,50,50,50,50];s.playAnimations("chipBurst",n,o,a,r,.5,30,l,!1,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],3:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("chipBurst",PiecSettings.assetsDir+"chips_burst.png",300,300,24)}function o(e,t){var i=document.getElementById("coin-effect-area"),n=[20,55,95,15,50,97],o=[30,20,45,95,80,95],a=[0,100,250,300,200,50],r=[2,2,2,2,2,2],l=[50,50,50,50,50,50];s.playAnimations("chipBurst",n,o,a,r,.5,30,l,!1,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],4:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("chipBurst",PiecSettings.assetsDir+"chips_burst.png",300,300,24)}function o(e,t){var i=document.getElementById("coin-effect-area"),n=[35,10,55,30,87,50,55,10,90,90,100,35,10,55,30,87,50,55,35,90,90,100],o=[50,10,100,45,45,20,95,10,55,90,10,50,100,100,45,45,20,95,50,55,90,10],a=[0,400,650,800,900,1200,1250,1300,1400,1600,1700,2e3,2300,2500,2700,3e3,3100,3200,3400,3600,3800,4e3],r=[1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1],l=[50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50];s.playAnimations("chipBurst",n,o,a,r,.5,30,l,!1,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],5:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("chipBurst",PiecSettings.assetsDir+"chips_burst.png",300,300,24)}function o(e,t){var i=document.getElementById("coin-effect-area"),n=[20,55,95],o=[80,70,80],a=[0,100,200],r=[1,1,1],l=[50,50,50];s.playAnimations("chipBurst",n,o,a,r,.5,30,l,!1,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],6:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("chipBurst",PiecSettings.assetsDir+"chips_burst.png",300,300,24)}function o(e,t){var i=document.getElementById("coin-effect-area"),n=[20,55,95],o=[80,70,80],a=[0,100,200],r=[2,2,2],l=[50,50,50];s.playAnimations("chipBurst",n,o,a,r,.5,30,l,!1,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],7:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("coinEffect",PiecSettings.assetsDir+"coin_effect.png",128,128,36)}function o(e,t){var i=document.getElementById("coin-effect-area"),n=[20,50,95,15,60,97,55],o=[40,25,40,85,90,86,55],a=[0,100,250,300,200,50,150],r=[1,1,1,1,1,1,1],l=[60,60,60,60,60,60,60];s.playAnimations("coinEffect",n,o,a,r,.5,40,l,!1,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],8:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("coinEffect",PiecSettings.assetsDir+"coin_effect.png",128,128,36)}function o(e,t){var i=document.getElementById("coin-effect-area"),n=[20,50,95,15,60,97,55],o=[40,25,40,85,90,86,55],a=[0,100,250,300,200,50,150],r=[2,2,2,2,2,2,2],l=[60,60,60,60,60,60,60];s.playAnimations("coinEffect",n,o,a,r,.5,40,l,!1,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],9:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("coinEffect",PiecSettings.assetsDir+"coin_effect.png",128,128,36)}function o(e,t){var i=document.getElementById("coin-effect-area"),n=[35,10,55,95,90,70,100,10],o=[50,10,100,45,99,30,10,95],a=[0,400,650,800,900,1200,1250,1300],r=[2,2,3,2,2,2,2,2],l=[60,60,60,60,60,60,60,60];s.playAnimations("coinEffect",n,o,a,r,.5,40,l,!1,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],10:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("coinCascade",PiecSettings.assetsDir+"coin-cascade-01.png",128,256,32)}function o(e,t){for(var i=document.getElementById("coin-cascade-area"),n=[-5,30,62],o=[0,0,0],a=[1e3,1100,1200],r=[0,0,0],l=[44,44,44],c=s.playAnimations("coinCascade",n,o,a,r,0,40,l,!1,i,e,t),u=0;u<c.length;u++){c[u].alpha=0;e.add.tween(c[u]).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,1e3)}}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],11:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("coinShortCascade",PiecSettings.assetsDir+"coin-cascade-03.png",128,256,32)}function o(e,t){for(var i=document.getElementById("coin-cascade-area"),n=[-3,30,63],o=[-20,-20,-20],a=[1e3,1100,1200],r=[0,0,0],l=[34,34,34],c=s.playAnimations("coinShortCascade",n,o,a,r,0,40,l,!1,i,e,t),u=0;u<c.length;u++){c[u].alpha=0;e.add.tween(c[u]).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,1e3)}}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],12:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("coinEffect",PiecSettings.assetsDir+"coin_effect.png",256,256,36)}function o(e,t){var i=document.getElementById("coin-effect-area"),n=[20,55,95],o=[80,70,80],a=[0,100,200],r=[1,1,1],l=[30,30,30];s.playAnimations("coinEffect",n,o,a,r,.5,40,l,!1,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],13:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("coinEffect",PiecSettings.assetsDir+"coin_effect.png",300,300,42)}function o(e,t){var i=document.getElementById("coin-effect-area"),n=[20,55,95],o=[80,70,80],a=[0,100,200],r=[2,2,2],l=[60,60,60];s.playAnimations("coinEffect",n,o,a,r,.5,40,l,!1,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],14:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("stackEffect",PiecSettings.assetsDir+"coin_stack_effect.png",256,256,32)}function o(e,t){var i=document.getElementById("coin-stack-area"),n=[20,60,95],o=[20,25,20],a=[0,200,350],r=[1,1,1],l=[60,60,60];s.playAnimations("stackEffect",n,o,a,r,.5,40,l,!0,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],15:[function(e,t,i){"use strict";function n(e){e.load.spritesheet("stackEffect",PiecSettings.assetsDir+"coin_stack_effect.png",200,115,32)}function o(e,t){var i=document.getElementById("coin-stack-area"),n=[5,60,90,20,55,95],o=[0,0,2,40,45,40],a=[500,700,900,0,200,350],r=[1,1,1,1,1,1],l=[55,55,55,60,60,60];s.playAnimations("stackEffect",n,o,a,r,.5,40,l,!0,i,e,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.preload=n,i.play=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],16:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./symbols.js"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(n);i.default={symbols:o.default}},{"./symbols.js":17}],17:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{bell:{frame:{x:1,y:1,w:150,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:130},sourceSize:{w:150,h:130}},brick:{frame:{x:1,y:133,w:150,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:130},sourceSize:{w:150,h:130}},brown:{frame:{x:1,y:265,w:150,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:130},sourceSize:{w:150,h:130}},doubleb:{frame:{x:1,y:397,w:150,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:130},sourceSize:{w:150,h:130}},gold:{frame:{x:1,y:529,w:150,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:130},sourceSize:{w:150,h:130}},oneb:{frame:{x:1,y:661,w:150,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:130},sourceSize:{w:150,h:130}},silver:{frame:{x:1,y:793,w:150,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:130},sourceSize:{w:150,h:130}},trib:{frame:{x:1,y:925,w:150,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:130},sourceSize:{w:150,h:130}},wild:{frame:{x:1,y:1057,w:150,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:150,h:130},sourceSize:{w:150,h:130}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"symbols",format:"RGBA8888",size:{w:152,h:1188},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:2962485a46bae2731ed59535b48e2c33:2fd24cfc6a2eac5a6cbcdf69dc85bc17:d295ed7153fe372207e34d26d380974a$"}}},{}],18:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=e("./states/boot"),a=n(o),s=e("./states/endcard"),r=n(s),l=e("./states/preloader"),c=n(l),u=new Phaser.Game(window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio,Phaser.CANVAS,"game",null,!0);u.state.add("boot",new a.default),u.state.add("endcard",new r.default),u.state.add("preloader",new c.default),u.state.start("boot")},{"./states/boot":29,"./states/endcard":30,"./states/preloader":31}],19:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){function t(e){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.button=new Phaser.Sprite(e,0,0,"cta",0),i.add(i.button),i.button.anchor.set(.5),i.fitInContainer(),i.initialCtaWidth=i.button.width,i.button.inputEnabled=!0,i.button.input.useHandCursor=!0,i.button.events.onInputDown.add(function(){doSomething("download")}),i}return a(t,e),s(t,[{key:"fitInContainer",value:function(){this.container=document.getElementById("cta-container"),this.containerWidth=this.container.offsetWidth*window.devicePixelRatio,this.containerHeight=this.container.offsetHeight*window.devicePixelRatio;var e=this.container.getBoundingClientRect().left*window.devicePixelRatio,t=this.container.getBoundingClientRect().top*window.devicePixelRatio;document.body.scrollWidth<document.body.scrollHeight?(this.x=2*e,this.y=t):(this.x=1.4*e,this.y=t),this.scale.x=this.containerWidth/this.button.width,this.scale.y=this.scale.x}},{key:"animate",value:function(){var e=document.getElementById("cta-container-final"),t=e.offsetWidth*window.devicePixelRatio,i=e.getBoundingClientRect().left*window.devicePixelRatio*2,n=e.getBoundingClientRect().top*window.devicePixelRatio,o=t/this.initialCtaWidth;this.game.add.tween(this).to({x:i,y:n},1400,Phaser.Easing.Back.InOut,!0,0),this.game.add.tween(this.scale).to({x:o,y:o},1e3,Phaser.Easing.InOut,!0,0,-1,!0)}}]),t}(Phaser.Group);i.default=r},{}],20:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){function t(e){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.graphics=e.add.graphics(0,0),null!=PiecSettings.finalOverlay&&null!=PiecSettings.finalOverlay.color?i.graphics.beginFill(PiecSettings.finalOverlay.color,1):i.graphics.beginFill(0,1),i.graphics.drawRect(0,0,window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio),i.add(i.graphics),null!=PiecSettings.finalOverlay&&null!=PiecSettings.finalOverlay.alpha?i.finalAlpha=PiecSettings.finalOverlay.alpha:i.finalAlpha=.5,i.alpha=0,i}return a(t,e),s(t,[{key:"show",value:function(){this.game.add.tween(this).to({alpha:this.finalAlpha},2e3,Phaser.Easing.Quadratic.In,!0,0)}},{key:"hide",value:function(){if(this.alpha>0){this.game.add.tween(this).to({alpha:0},1e3,Phaser.Easing.Quadratic.In,!0,0)}}}]),t}(Phaser.Group);i.default=r},{}],21:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){function t(e){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));i.container=document.getElementById("logo");var a=i.container.offsetWidth*window.devicePixelRatio,s=(i.container.offsetHeight,window.devicePixelRatio,i.container.getBoundingClientRect().left*window.devicePixelRatio),r=i.container.getBoundingClientRect().top*window.devicePixelRatio;return i.logo=i.game.add.sprite(s,r,"logo"),i.add(i.logo),i.initialLogoWidth=i.logo.width,i.logo.scale.x=a/i.initialLogoWidth,i.logo.scale.y=i.logo.scale.x,i}return a(t,e),s(t,[{key:"animate",value:function(){var e=document.getElementById("logo-final"),t=e.offsetWidth*window.devicePixelRatio,i=e.getBoundingClientRect().left*window.devicePixelRatio,n=e.getBoundingClientRect().top*window.devicePixelRatio,o=t/this.initialLogoWidth;this.game.add.tween(this.logo).to({x:i,y:n},1e3,Phaser.Easing.Quadratic.InOut,!0,0),this.game.add.tween(this.logo.scale).to({x:o,y:o},1e3,Phaser.Easing.Quadratic.InOut,!0,0)}}]),t}(Phaser.Group);i.default=r},{}],22:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../utils/util"),c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);t.default=e}(l),e("../prefabs/reel")),u=n(c),f=e("../prefabs/symbol"),h=n(f),d=function(e){function t(e){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.offsetX=0,i.offsetY=0,i.reels=[],i.symbolPatternFeature=[],i.fitInContainer(),i.createReelLayout(),i}return s(t,e),r(t,[{key:"createReelLayout",value:function(){this.maxReelHeight=Math.max.apply(null,PiecSettings.reelLayout);for(var e=0;e<PiecSettings.reelLayout.length;e++){var t=(this.maxReelHeight-PiecSettings.reelLayout[e])/2*PiecSettings.reelWidth,i=new u.default(this.game,e*PiecSettings.reelWidth+10,0+t,PiecSettings.reels[e],PiecSettings.reelLayout[e],this.scale.x,this.x,this.y);i.goToBottomOfReel(),this.reels.push(i),this.add(i)}}},{key:"spin",value:function(){if(this.game.global.spin<PiecSettings.spins.length){var e=0;this.reels.forEach(function(t){t.spinToStopPosition(PiecSettings.spins[this.game.global.spin].stopPositions[e],1800,PiecSettings.reelsAnimation.delayPerReel[e],!0,!1),e++},this),this.game.global.spin++}}},{key:"fitInContainer",value:function(){var e=document.getElementById("reel-layout").offsetWidth,t=e/(PiecSettings.reelWidth*PiecSettings.reelLayout.length)*window.devicePixelRatio;if(this.scale.x=t,this.scale.y=t,this.x=document.getElementById("reel-layout").getBoundingClientRect().left*window.devicePixelRatio,this.y=document.getElementById("reel-layout").getBoundingClientRect().top*window.devicePixelRatio,0!=this.reels.length)for(var i=0;i<this.reels.length;i++)this.reels[i].fitInContainer(this.x,this.y)}},{key:"drawWinlines",value:function(e){var t=PiecSettings.spins[this.game.global.spin-1].winlines;this.winlineGraphics=[];var i=PiecSettings.reelWidth,n=PiecSettings.symbolHeight;if(null!=t)for(var o=0;o<t.length;o++){this.winlineGraphics[o]=this.game.add.graphics(this.x,this.y),e.add(this.winlineGraphics[o]),this.winlineGraphics[o].lineStyle(this.height/800,PiecSettings.winlinePalette[o%PiecSettings.winlinePalette.length],1);var a=this.getVerticalOffset(t,t[o],o),s=(this.maxReelHeight-PiecSettings.reelLayout[0])/2*PiecSettings.reelWidth,r=(this.maxReelHeight-PiecSettings.reelLayout[0])/2*PiecSettings.reelWidth;this.winlineGraphics[o].moveTo(0,this.scale.x*(n*(t[o][0]+1)-n/2+a+s)),this.winlineGraphics[o].lineTo(this.scale.x*(i-i/2),this.scale.x*(n*(t[o][0]+1)-n/2+a+r));for(var l=1;l<t[o].length;l++)s=(this.maxReelHeight-PiecSettings.reelLayout[l-1])/2*PiecSettings.reelWidth,r=(this.maxReelHeight-PiecSettings.reelLayout[l])/2*PiecSettings.reelWidth,this.winlineGraphics[o].moveTo(this.scale.x*(i*l-i/2),this.scale.x*(n*(t[o][l-1]+1)-n/2+a+s)),this.winlineGraphics[o].lineTo(this.scale.x*(i*(l+1)-i/2),this.scale.x*(n*(t[o][l]+1)-n/2+a+r));var c=t[o].length-1;s=(this.maxReelHeight-PiecSettings.reelLayout[c])/2*PiecSettings.reelWidth,r=(this.maxReelHeight-PiecSettings.reelLayout[c])/2*PiecSettings.reelWidth,this.winlineGraphics[o].moveTo(this.scale.x*(i*(c+1)-i/2),this.scale.x*(n*(t[o][c]+1)-n/2+a+s)),this.winlineGraphics[o].lineTo(this.scale.x*(i*(c+1)),this.scale.x*(n*(t[o][c]+1)-n/2+a+r))}var u=this.game.global.spin;this.game.time.events.add(1200,function(){this.hideAllWinlines(),this.game.time.events.add(300,function(){this.playWinlineLoopAnimation(u)},this)},this)}},{key:"hideAllWinlines",value:function(){for(var e=0;e<this.winlineGraphics.length;e++)this.winlineGraphics[e].alpha=0}},{key:"playWinlineLoopAnimation",value:function(e){for(var t=0;t<this.winlineGraphics.length;t++)this.setAlpha(t,1e3,100,e)}},{key:"setAlpha",value:function(e,t,i,n){this.game.time.events.add(t*e-i,function(){n==this.game.global.spin&&(this.winlineGraphics[e].alpha=1)},this),this.game.time.events.add(t*e-i+(t-i),function(){n==this.game.global.spin&&(this.winlineGraphics[e].alpha=0)},this)}},{key:"getVerticalOffset",value:function(e,t,i){for(var n=0,o=0;o<e.length;o++)t[0]!=e[o][0]&&t[t.length-1]!=e[o][e[o].length-1]||i>o&&n++;return 17*n}},{key:"respinFeature",value:function(){if(null!=PiecSettings.spins[this.game.global.spin-1].respinFeature)for(var e=0;e<PiecSettings.spins[this.game.global.spin-1].respinFeature.newStopPositions.length;e++){var t=PiecSettings.spins[this.game.global.spin-1].respinFeature.newStopPositions[e];this.reels[e].currentStopPosition!=t&&this.reels[e].spinToStopPosition(t,1800,300,!1,!0)}}},{key:"symbolPatternReelFeature",value:function(){var e=0;if(null!=PiecSettings.spins[this.game.global.spin-1].symbolPatternFeature)for(var t=0;t<PiecSettings.spins[this.game.global.spin-1].symbolPatternFeature.pattern.length;t++)for(var i=0;i<PiecSettings.spins[this.game.global.spin-1].symbolPatternFeature.pattern[t].length;i++){var n=PiecSettings.spins[this.game.global.spin-1].symbolPatternFeature.pattern[t][i],o=new h.default(this.game,0,0,"symbols",PiecSettings.spins[this.game.global.spin-1].symbolPatternFeature.symbol);o.x=t*PiecSettings.reelWidth+PiecSettings.reelWidth/2,o.y=n*PiecSettings.symbolHeight+PiecSettings.symbolHeight/2,o.alpha=0,this.add(o),this.symbolPatternFeature.push(o);this.game.add.tween(o).to({alpha:1},500,Phaser.Easing.Quadratic.In,!0,150*e);e++}}},{key:"clearSymbolPatternReelFeature",value:function(){this.symbolPatternFeature.forEach(function(e){this.game.add.tween(e).to({alpha:0},500,Phaser.Easing.Quadratic.Out,!0,0)},this),this.game.time.events.add(500,function(){this.symbolPatternFeature.forEach(function(e){e.destroy()},this)},this)}}]),t}(Phaser.Group);i.default=d},{"../prefabs/reel":23,"../prefabs/symbol":26,"../utils/util":36}],23:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../utils/util"),c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);t.default=e}(l),e("../utils/bezier-easing")),u=n(c),f=e("../prefabs/symbol"),h=n(f),d=function(e){function t(e,i,n,s,r,l,c,u){o(this,t);var f=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return f.reelSymbolList=s,f.reelHeight=r,f.reelWidth=PiecSettings.reelWidth,f.x=i,f.y=n,f.parentX=c,f.parentY=u,f.totalHeight=0,f.currentStopPosition=0,f.createReel(),f.applyMask(l),f}return s(t,e),r(t,[{key:"createReel",value:function(){for(var e=0;e<this.reelSymbolList.length;e++)this.createSymbol(e,this.reelSymbolList[e])}},{key:"applyMask",value:function(e){var t=this.game.add.graphics(0,0);t.beginFill(16777215),t.drawRect(this.x*e+this.parentX,this.y*e+this.parentY,this.reelWidth*e,this.totalHeight/this.reelSymbolList.length*this.reelHeight*e),this.mask=t,console.log(e)}},{key:"createSymbol",value:function(e,t){var i=new h.default(this.game,0,0,"symbols",t);i.x=this.reelWidth/2,i.y=this.totalHeight+PiecSettings.symbolHeight/2+this.y,this.totalHeight+=PiecSettings.symbolHeight,this.add(i)}},{key:"goToBottomOfReel",value:function(){this.y=-1*(this.totalHeight-this.totalHeight/this.reelSymbolList.length*this.reelHeight),this.currentStopPosition=this.reelSymbolList.length-this.reelHeight}},{key:"spinToStopPosition",value:function(e,t,i,n,o){var a;a=o?Phaser.Easing.Back.InOut:(0,u.default)(.87,-.2,.16,1.2);var s=this.game.add.tween(this).to({y:e*PiecSettings.symbolHeight*-1},t,a,!0,i);n&&s.onComplete.add(function(){this.game.onReelSpinComplete.dispatch(),this.currentStopPosition=e},this)}}]),t}(Phaser.Group);i.default=d},{"../prefabs/symbol":26,"../utils/bezier-easing":32,"../utils/util":36}],24:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){function t(e){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.button=new Phaser.Sprite(e,0,0,"spin",0),i.add(i.button),i.label=!1,i.fitInContainer(),-1!=i.container.className.indexOf("label")&&(i.createLabel(),i.label=!0),i.button.inputEnabled=!0,i.button.input.useHandCursor=!0,i.button.anchor.set(.45,.25),i.button.events.onInputDown.add(function(){this.game.onSpin.dispatch(),this.game.global.userInteractedWithIEC=!0},i),i}return a(t,e),s(t,[{key:"fitInContainer",value:function(){this.container=document.getElementById("spin-button"),this.containerWidth=this.container.offsetWidth*window.devicePixelRatio,this.containerHeight=this.container.offsetHeight*window.devicePixelRatio;var e=this.container.getBoundingClientRect().left*window.devicePixelRatio,t=this.container.getBoundingClientRect().top*window.devicePixelRatio;this.x=e+this.containerWidth/2,this.y=t+this.containerHeight/2,this.scale.x=this.containerWidth/this.button.width,console.log("scale/"+this.containerWidth),console.log("button"+this.button.width),this.scale.y=this.scale.x}},{key:"createLabel",value:function(){this.fontSize=.3*this.button.height;var e={font:"bold "+this.fontSize+"px "+PiecSettings.fontFamily};this.spinsLeft=PiecSettings.spins.length,this.textField=new Phaser.Text(this.game,this.button.width/6,this.button.height/4.2,this.spinsLeft,e),this.textField.anchor.set(.5),this.add(this.textField),this.textField.align="center",this.textField.fill=PiecSettings.fontColor,this.textField.setShadow(2,3,"rgb(0,0,0)",0)}},{key:"updateSpinsLeft",value:function(){this.label&&(this.spinsLeft=PiecSettings.spins.length-this.game.global.spin,this.textField.text=this.spinsLeft)}},{key:"startIdleAnimation",value:function(){}},{key:"stopIdleAnimation",value:function(){this.game.tweens.remove(this.idleTween)}}]),t}(Phaser.Group);i.default=r},{}],25:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e("../prefabs/spin-button"),l=function(e){return e&&e.__esModule?e:{default:e}}(r),c=function(e){function t(e){n(this,t)
;var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.dissapearing=!1,i.container=document.getElementById("spin-overlay"),null!=i.container&&(-1!=i.container.className.indexOf("dissapearing")&&(i.dissapearing=!0),i.dissapearing&&i.createDarkOverlay()),i.spinButton=new l.default(e),i.add(i.spinButton),i}return a(t,e),s(t,[{key:"createDarkOverlay",value:function(){var e=this.container.offsetWidth*window.devicePixelRatio,t=this.container.offsetHeight*window.devicePixelRatio,i=this.container.getBoundingClientRect().left*window.devicePixelRatio,n=this.container.getBoundingClientRect().top*window.devicePixelRatio,o=this.game.add.bitmapData(e,t),a=o.context.createLinearGradient(0,0,0,t);a.addColorStop(0,"transparent"),a.addColorStop(.75,"#000"),a.addColorStop(1,"#000"),o.context.fillStyle=a,o.context.fillRect(0,0,e,t),this.spinOverlaySprite=this.game.add.sprite(i,n,o),this.spinOverlay=o,this.spinOverlaySprite.alpha=.7,this.add(this.spinOverlaySprite)}},{key:"hide",value:function(){this.spinButton.button.inputEnabled=!1}},{key:"fade",value:function(){this.game.add.tween(this).to({alpha:0},800,Phaser.Easing.Quadratic.In,!0,0)}},{key:"show",value:function(){if(this.spinButton.button.inputEnabled=!0,this.dissapearing&&PiecSettings.spins.length!=this.game.global.spin){this.game.add.tween(this).to({y:0},300,Phaser.Easing.Quadratic.In,!0,0)}}}]),t}(Phaser.Group);i.default=c},{"../prefabs/spin-button":24}],26:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../utils/util"),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);t.default=e}(s),function(e){function t(e,i,a,s,r){n(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,a,s,r));return l.anchor.setTo(.6,.5),l}return a(t,e),t}(Phaser.Sprite));i.default=r},{"../utils/util":36}],27:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){function t(e,i,a){n(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.tooltip=!1,s.spinButton=a,null!=PiecSettings.tooltip&&(s.createTooltip(),s.startIdleAnimation(),s.spinButton.startIdleAnimation(),s.tooltip=!0,s.darkOverlay=i,s.darkOverlay.alpha=.5),s}return a(t,e),s(t,[{key:"createTooltip",value:function(){var e=document.getElementById("tooltip"),t=e.offsetWidth*window.devicePixelRatio,i=e.offsetHeight*window.devicePixelRatio,n=e.getBoundingClientRect().left*window.devicePixelRatio,o=e.getBoundingClientRect().top*window.devicePixelRatio;if(null==PiecSettings.tooltip.src&&null!=PiecSettings.tooltip.text){this.fontSize=.2*i;var a={font:"bold "+this.fontSize+"px "+PiecSettings.fontFamily};if(console.log(PiecSettings.tooltip.text),this.textField=new Phaser.Text(this.game,0,0,PiecSettings.tooltip.text,a),this.add(this.textField),this.textField.anchor.set(.5,.5),this.textField.align="center",null!=PiecSettings.tooltip.fontColor)this.textField.fill=PiecSettings.tooltip.fontColor;else{this.textField.stroke="#ff9e1c",this.textField.strokeThickness=5;var s=this.textField.context.createLinearGradient(0,0,0,this.textField.height);s.addColorStop(0,"#fffea5"),s.addColorStop(.5,"#ffad17"),s.addColorStop(.55,"#fffea5"),s.addColorStop(1,"#ffad17"),this.textField.fill=s}}else null!=PiecSettings.tooltip.src&&(this.tooltip=this.game.add.sprite(0,0,"tooltip"),this.add(this.tooltip),this.tooltip.anchor.set(.5),this.tooltip.scale.y=i/this.tooltip.height,this.tooltip.scale.x=this.tooltip.scale.y);this.x=n+t/2,this.y=o+i/2.5}},{key:"startIdleAnimation",value:function(){this.game.add.tween(this.scale).to({x:.9,y:.9},1e3,Phaser.Easing.Quadratic.InOut,!0,0,-1,!0)}},{key:"hide",value:function(){if(this.tooltip){this.darkOverlay.hide(),this.spinButton.stopIdleAnimation();this.game.add.tween(this).to({alpha:0},500,Phaser.Easing.Quadratic.Out,!0,0)}}}]),t}(Phaser.Group);i.default=r},{}],28:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e("../utils/util"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(r),c=function(e){function t(e){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.fitInContainer(),i.createWinCounterBackground(),i.createWinCounter(),i.currentValue=0,i.initialWinCounterWidth=i.containerWidth,i}return a(t,e),s(t,[{key:"fitInContainer",value:function(){this.containerWidth=document.getElementById("win-counter").offsetWidth*window.devicePixelRatio,this.containerHeight=document.getElementById("win-counter").offsetHeight*window.devicePixelRatio,this.x=document.getElementById("win-counter").offsetLeft*window.devicePixelRatio,this.y=document.getElementById("win-counter").offsetTop*window.devicePixelRatio}},{key:"createWinCounter",value:function(){this.fontSize=.8*this.containerHeight;var e={font:"bold "+this.fontSize+"px "+PiecSettings.fontFamily};if(this.textField=new Phaser.Text(this.game,this.containerWidth/2,this.containerHeight/2,PiecSettings.winCounterInitialValue,e),this.add(this.textField),this.textField.anchor.set(.5,.5),this.textField.align="center",null!=PiecSettings.fontColor)this.textField.stroke="black",this.textField.strokeThickness=2,this.textField.fill=PiecSettings.fontColor,this.textField.setShadow(2,3,"rgb(0,0,0)",0);else{this.textField.stroke="#ff9d1b",this.textField.strokeThickness=5;var t=this.textField.context.createLinearGradient(0,0,0,this.textField.height);t.addColorStop(0,"#fffea5"),t.addColorStop(1,"#ffab02"),this.textField.fill=t}}},{key:"createWinCounterBackground",value:function(){var e=document.getElementById("win-counter-background"),t=e.offsetWidth*window.devicePixelRatio,i=(e.offsetHeight,window.devicePixelRatio,e.getBoundingClientRect().left*window.devicePixelRatio),n=e.getBoundingClientRect().top*window.devicePixelRatio;console.log(i+", "+n),this.winCounterBackground=this.game.add.sprite(i,n,"win-counter-background"),this.initialWinCounterBackgroundWidth=this.winCounterBackground.width,this.winCounterBackground.scale.x=t/this.winCounterBackground.width,this.winCounterBackground.scale.y=this.winCounterBackground.scale.x,console.log("wincounter scale"+t),console.log("button"+this.winCounterBackground.width),this.game.world.moveDown(this.winCounterBackground)}},{key:"changeWinCounterTo",value:function(e,t){var i=this.calcSpeedFromDuration(e,t);this.increaseCounterTo(e,i);var n=1.4;this.game.global.spin==PiecSettings.spins.length&&(n=1.7),this.game.add.tween(this.textField.scale).to({x:n,y:n},1*t/5,Phaser.Easing.Linear.None,!0,1*t/3).onComplete.add(function(){this.game.add.tween(this.textField.scale).to({x:1,y:1},1*t/5,Phaser.Easing.Linear.None,!0,0)},this)}},{key:"calcSpeedFromDuration",value:function(e,t){return Math.ceil(2.5*(e-this.currentValue)/(t/10))}},{key:"increaseCounterTo",value:function(e,t){this.currentValue<e&&(this.currentValue+=t,this.currentValue>e&&(this.currentValue=e),this.game.time.events.add(10,function(){null!=PiecSettings.winCounterCommaSeparation&&PiecSettings.winCounterCommaSeparation?this.textField.text=""+l.numberWithCommas(this.currentValue):this.textField.text=""+this.currentValue,this.currentValue<e&&this.increaseCounterTo(e,t)},this))}},{key:"animate",value:function(){this.animateWinCounterText(),this.animateWinCounterBackground()}},{key:"animateWinCounterText",value:function(){var e=document.getElementById("win-counter-final"),t=e.offsetWidth*window.devicePixelRatio,i=e.getBoundingClientRect().left*window.devicePixelRatio,n=e.getBoundingClientRect().top*window.devicePixelRatio,o=t/this.initialWinCounterWidth;this.game.add.tween(this).to({x:i,y:n},1e3,Phaser.Easing.Back.InOut,!0,0),this.game.add.tween(this.scale).to({x:o,y:o},1e3,Phaser.Easing.Back.InOut,!0,0)}},{key:"animateWinCounterBackground",value:function(){var e=document.getElementById("win-counter-background-final"),t=e.offsetWidth*window.devicePixelRatio,i=e.getBoundingClientRect().left*window.devicePixelRatio,n=e.getBoundingClientRect().top*window.devicePixelRatio,o=t/this.initialWinCounterBackgroundWidth;console.log(t+", "+this.initialWinCounterBackgroundWidth),console.log("new scale "+o);this.game.add.tween(this.winCounterBackground).to({x:i,y:n},1e3,Phaser.Easing.Back.InOut,!0,0),this.game.add.tween(this.winCounterBackground.scale).to({x:o,y:o},1e3,Phaser.Easing.Back.InOut,!0,0),this.game.add.tween(this.winCounterBackground).to({x:i,y:n},1e3,Phaser.Easing.Back.InOut,!0,0)}}]),t}(Phaser.Group);i.default=c},{"../utils/util":36}],29:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"preload",value:function(){}},{key:"init",value:function(){PiecSettings.assetsDir="dev"===PiecSettings.env?"assets/":"";var e=this.game;e.onGameComplete=new Phaser.Signal,e.onCompleteLevel=new Phaser.Signal,e.onSpin=new Phaser.Signal,e.onReelSpinComplete=new Phaser.Signal,e.onSpinComplete=new Phaser.Signal,"undefined"!=typeof piec&&(piec.lockGame=function(){e.global.locked=!0},piec.unlockGame=function(){e.global.locked=!1},piec.completeLevel=function(){e.onCompleteLevel.dispatch()},piec.destroyGame=function(){e.destroy()},piec.spin=function(){e.onSpin.dispatch()}),window.onresize=function(){e.scale.setGameSize(document.body.clientWidth*window.devicePixelRatio,document.body.clientHeight*window.devicePixelRatio),e.scale.refresh(),e.state.start("boot",!0,!1)}}},{key:"create",value:function(){this.init(),this.game.input.maxPointers=1,this.initGlobalVariables(),this.game.state.start("preloader"),this.game.onMoveStart=function(e){e.global.interactions++,PiecSettings&&PiecSettings.onMoveStart&&PiecSettings.onMoveStart(e.global.interactions)},this.game.onMoveComplete=function(e){PiecSettings&&PiecSettings.onMoveComplete&&PiecSettings.onMoveComplete(e.global.moveStats)}}},{key:"initGlobalVariables",value:function(){this.game.global={spin:0,reelsSpinCompleted:0,isComplete:!1}}}]),t}(Phaser.State);i.default=r},{}],30:[function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=e("../prefabs/logo"),u=o(c),f=e("../prefabs/reel-layout"),h=o(f),d=e("../prefabs/win-counter"),p=o(d),g=e("../prefabs/reel"),y=(o(g),e("../prefabs/spin-overlay")),m=o(y),b=e("../prefabs/dark-overlay"),w=o(b),v=e("../prefabs/tooltip"),P=o(v),S=e("../prefabs/cta-button"),O=o(S),_=e("../utils/fx-renderer.js"),x=n(_),j=e("../utils/custom-png-sequences-renderer.js"),k=(n(j),e("../utils/win-messages-util.js")),C=n(k),R=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return r(t,e),l(t,[{key:"create",value:function(){this.game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.setUserScale(1/window.devicePixelRatio,1/window.devicePixelRatio,0,0),this.reelLayout=new h.default(this.game),this.game.add.existing(this.reelLayout),this.game.onSpin.add(this.onSpin,this),this.game.onReelSpinComplete.add(this.onReelSpinComplete,this),this.game.onSpinComplete.add(this.onSpinComplete,this),this.pngSequencesLayer=this.game.add.group(),this.winlinesLayer=this.game.add.group(),this.winMessagesLayer=this.game.add.group(),this.darkOverlay=new w.default(this.game),this.game.add.existing(this.darkOverlay),this.spinOverlay=new m.default(this.game),this.game.add.existing(this.spinOverlay),this.winCounter=new p.default(this.game),this.game.add.existing(this.winCounter),this.tooltip=new P.default(this.game,this.darkOverlay,this.spinOverlay.spinButton),this.game.add.existing(this.tooltip),this.fxEffectsLayer=this.game.add.group(),this.logo=new u.default(this.game),this.game.add.existing(this.logo),this.cta=new O.default(this.game),this.game.add.existing(this.cta),null!=PiecSettings.autospin&&(null!=PiecSettings.autospin.activateAfter?this.game.time.events.add(PiecSettings.autospin.activateAfter,function(){this.game.global.userInteractedWithIEC||(console.log("firing this"),this.game.onSpin.dispatch())},this):this.game.onSpin.dispatch())}},{key:"render",value:function(){}},{key:"onSpin",value:function(){if(document.getElementById("vungle-close").className="visible",this.game.global.spin<=PiecSettings.spins.length-1){if(null!=this.reelLayout.winlineGraphics&&this.reelLayout.winlineGraphics.length>0)for(var e=0;e<this.reelLayout.winlineGraphics.length;e++)this.reelLayout.winlineGraphics[e].clear();this.reelLayout.clearSymbolPatternReelFeature(),this.reelLayout.spin(),this.spinOverlay.spinButton.updateSpinsLeft(),this.spinOverlay.hide(),this.tooltip.hide()}}},{key:"onReelSpinComplete",value:function(){++this.game.global.reelsSpinCompleted==PiecSettings.reelLayout.length&&(this.game.onSpinComplete.dispatch(),this.game.global.reelsSpinCompleted=0)}},{key:"onSpinComplete",value:function(){var e=this.game.global.spin-1;this.reelLayout.symbolPatternReelFeature(),this.reelLayout.respinFeature();var t=0,i=0;null!=PiecSettings.spins[this.game.global.spin-1].symbolPatternFeature&&(t=500),PiecSettings.spins[this.game.global.spin-1].pngSequence,null!=PiecSettings.spins[this.game.global.spin-1].respinFeature&&(t+=2e3),this.game.time.events.add(t+300,function(){this.game.global.spin-1==e&&x.playFx(this.game,this.fxEffectsLayer)},this),this.game.time.events.add(t,function(){this.game.global.spin-1==e&&(this.reelLayout.drawWinlines(this.winlinesLayer),null!=PiecSettings.spins[this.game.global.spin-1].winCounter&&this.winCounter.changeWinCounterTo(PiecSettings.spins[this.game.global.spin-1].winCounter,1e3*this.game.global.spin))},this),null!=PiecSettings.spins[this.game.global.spin-1].winMessage&&(i=PiecSettings.spins[this.game.global.spin-1].winMessage.delay,this.game.time.events.add(i,function(){C.playWinMessage(this.game,PiecSettings.spins[this.game.global.spin-1].winMessage,this.winMessagesLayer)},this));var n=t+300;null!=PiecSettings.spins[this.game.global.spin-1].winlines&&(n+=1e3),this.game.time.events.add(t,function(){this.spinOverlay.show()},this),null!=PiecSettings.finalOverlay&&null!=PiecSettings.finalOverlay.delay&&(i+=PiecSettings.finalOverlay.delay),i+=t,PiecSettings.spins.length==this.game.global.spin&&this.game.time.events.add(i,function(){this.darkOverlay.show(),this.logo.animate(),this.spinOverlay.fade(),this.winCounter.animate(),this.cta.animate()},this)}},{key:"onLoop",value:function(){console.log("looping")}}]),t}(Phaser.State);i.default=R},{"../prefabs/cta-button":19,"../prefabs/dark-overlay":20,"../prefabs/logo":21,"../prefabs/reel":23,"../prefabs/reel-layout":22,"../prefabs/spin-overlay":25,"../prefabs/tooltip":27,"../prefabs/win-counter":28,"../utils/custom-png-sequences-renderer.js":33,"../utils/fx-renderer.js":34,"../utils/win-messages-util.js":37}],31:[function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../atlas/index"),c=n(l),u=e("../utils/util"),f=n(u),h=e("../animations.js"),d=(n(h),e("../utils/fx-renderer.js")),p=n(d),g=e("../utils/custom-png-sequences-renderer.js"),y=(n(g),e("../utils/win-messages-util.js")),m=n(y),b=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.asset=null,e}return s(t,e),r(t,[{key:"preload",value:function(){this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources(),p.preloadFx(this.game),m.preloadWinMessages(this.game)}},{key:"update",value:function(){}},{key:"loadResources",value:function(){this.game.load.image("logo",PiecSettings.assetsDir+"logo.png"),-1!=document.getElementById("spin-button").className.indexOf("label")?this.game.load.image("spin",PiecSettings.assetsDir+"spin_button_label.png"):this.game.load.image("spin",PiecSettings.assetsDir+"spin_button.png"),document.getElementById("win-counter-background")&&this.game.load.image("win-counter-background",PiecSettings.assetsDir+"win-counter-background.png"),null!=PiecSettings.tooltip&&null!=PiecSettings.tooltip.src&&this.game.load.image("tooltip",PiecSettings.assetsDir+PiecSettings.tooltip.src),this.game.load.image("cta",PiecSettings.assetsDir+"cta.png"),this.game.global.animations={},PiecSettings.animation=PiecSettings.animation||{};var e={frameRate:60,scale:1};for(var t in c.default)c.default.hasOwnProperty(t)&&(this.game.load.atlasJSONHash(t,PiecSettings.assetsDir+t+".png",null,c.default[t]),this.game.global.animations[t]=f.extend(e,PiecSettings.animation[t]||{}));var i=0;for(var t in c.default.symbols.frames)c.default.symbols.frames.hasOwnProperty(t)&&i<c.default.symbols.frames[t].frame.w&&(i=c.default.symbols.frames[t].frame.w);PiecSettings.reelWidth=1.5*i}},{key:"onLoadComplete",value:function(){this.game.state.start("endcard")}}]),t}(Phaser.State);i.default=b},{"../animations.js":1,"../atlas/index":16,"../utils/custom-png-sequences-renderer.js":33,"../utils/fx-renderer.js":34,"../utils/util":36,"../utils/win-messages-util.js":37}],32:[function(e,t,i){"use strict";function n(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function a(e){return 3*e}function s(e,t,i){return((n(t,i)*e+o(t,i))*e+a(t))*e}function r(e,t,i){return 3*n(t,i)*e*e+2*o(t,i)*e+a(t)}function l(e,t,i,n,o){var a,r,l=0;do{r=t+(i-t)/2,a=s(r,n,o)-e,a>0?i=r:t=r}while(Math.abs(a)>f&&++l<h);return r}function c(e,t,i,n){for(var o=0;o<u;++o){var a=r(t,i,n);if(0===a)return t;t-=(s(t,i,n)-e)/a}return t}var u=4,f=1e-7,h=10,d=11,p=1/(d-1),g="function"==typeof Float32Array;t.exports=function(e,t,i,n){function o(t){for(var n=0,o=1,s=d-1;o!==s&&a[o]<=t;++o)n+=p;--o;var u=(t-a[o])/(a[o+1]-a[o]),f=n+u*p,h=r(f,e,i);return h>=.001?c(t,f,e,i):0===h?f:l(t,n,n+p,e,i)}if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");var a=g?new Float32Array(d):new Array(d);if(e!==t||i!==n)for(var u=0;u<d;++u)a[u]=s(u*p,e,i);return function(a){return e===t&&i===n?a:0===a?0:1===a?1:s(o(a),t,n)}}},{}],33:[function(e,t,i){"use strict";function n(e){for(var t=0;t<PiecSettings.spins.length;t++)if(null!=PiecSettings.spins[t].pngSequence){var i=PiecSettings.spins[t].pngSequence;console.log(i);var n=i.src.substr(0,i.src.indexOf("."));e.load.spritesheet(n,PiecSettings.assetsDir+i.src,i.spriteWidth,i.spriteHeight,i.spriteNumber)}}function o(e,t,i){var n=t.src.substr(0,t.src.indexOf(".")),o=document.getElementById(t.htmlContainer),a=o.offsetWidth*window.devicePixelRatio,r=(o.offsetHeight,window.devicePixelRatio,o.getBoundingClientRect().left*window.devicePixelRatio),l=o.getBoundingClientRect().top*window.devicePixelRatio,c=e.add.sprite(r,l,n);if(i.add(c),c.animations.add("animation"),c.anchor.set(0,0),c.alpha=0,s.playAnimation(e,c,t.delay,t.fps),c.scale.x=a/c.width,c.scale.y=c.scale.x,c.persistent=!1,null!=t.loops&&(c.numberOfLoops=t.loops,c.animations.currentAnim.onLoop.add(s.onLoop,this)),null!=t.effect&&-1!=t.effect.indexOf("fade-in")){c.alpha=0;e.add.tween(c).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,t.delay)}return c}Object.defineProperty(i,"__esModule",{value:!0}),i.preloadPngSequences=n,i.playPngSequence=o;var a=e("../utils/slot-animations-util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(a)},{"../utils/slot-animations-util.js":35}],34:[function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function o(e){for(var t=0;t<PiecSettings.spins.length;t++)if(null!=PiecSettings.spins[t].winAnimations)for(var i=0;i<PiecSettings.spins[t].winAnimations.length;i++)switch(PiecSettings.spins[t].winAnimations[i]){case"coin-line-burst-01":l.preload(e);break;case"coin-line-burst-02":u.preload(e);break;case"coin-area-burst-01":h.preload(e);break;case"coin-area-burst-02":p.preload(e);break;case"coin-area-burst-03":y.preload(e);break;case"coin-cascade-01":b.preload(e);break;case"coin-cascade-02":v.preload(e);break;case"coin-line-stack-01":S.preload(e);break;case"coin-line-stack-02":_.preload(e);break;case"chip-line-burst-01":case"chip-line-burst-02":j.preload(e);break;case"chip-area-burst-01":E.preload(e);break;case"chip-area-burst-02":M.preload(e);break;case"chip-area-burst-03":I.preload(e)}}function a(e,t){if(null!=PiecSettings.spins[e.global.spin-1].winAnimations)for(var i=0;i<PiecSettings.spins[e.global.spin-1].winAnimations.length;i++)switch(PiecSettings.spins[e.global.spin-1].winAnimations[i]){case"coin-line-burst-01":l.play(e,t);break;case"coin-line-burst-02":u.play(e,t);break;case"coin-area-burst-01":h.play(e,t);break;case"coin-area-burst-02":p.play(e,t);break;case"coin-area-burst-03":y.play(e,t);break;case"coin-cascade-01":b.play(e,t);break;case"coin-cascade-02":v.play(e,t);break;case"coin-line-stack-01":S.play(e,t);break;case"coin-line-stack-02":_.play(e,t);break;case"chip-line-burst-01":j.play(e,t);break;case"chip-line-burst-02":C.play(e,t);break;case"chip-area-burst-01":E.play(e,t);break;case"chip-area-burst-02":M.play(e,t);break;case"chip-area-burst-03":I.play(e,t)}}Object.defineProperty(i,"__esModule",{value:!0}),i.preloadFx=o,i.playFx=a;var s=e("../utils/util"),r=(n(s),e("../animations/coin-line-burst-01.js")),l=n(r),c=e("../animations/coin-line-burst-02.js"),u=n(c),f=e("../animations/coin-area-burst-01.js"),h=n(f),d=e("../animations/coin-area-burst-02.js"),p=n(d),g=e("../animations/coin-area-burst-03.js"),y=n(g),m=e("../animations/coin-cascade-01.js"),b=n(m),w=e("../animations/coin-cascade-02.js"),v=n(w),P=e("../animations/coin-line-stack-01.js"),S=n(P),O=e("../animations/coin-line-stack-02.js"),_=n(O),x=e("../animations/chip-line-burst-01.js"),j=n(x),k=e("../animations/chip-line-burst-02.js"),C=n(k),R=e("../animations/chip-area-burst-01.js"),E=n(R),B=e("../animations/chip-area-burst-02.js"),M=n(B),W=e("../animations/chip-area-burst-03.js"),I=n(W)},{"../animations/chip-area-burst-01.js":2,"../animations/chip-area-burst-02.js":3,"../animations/chip-area-burst-03.js":4,"../animations/chip-line-burst-01.js":5,"../animations/chip-line-burst-02.js":6,"../animations/coin-area-burst-01.js":7,"../animations/coin-area-burst-02.js":8,"../animations/coin-area-burst-03.js":9,"../animations/coin-cascade-01.js":10,"../animations/coin-cascade-02.js":11,"../animations/coin-line-burst-01.js":12,"../animations/coin-line-burst-02.js":13,"../animations/coin-line-stack-01.js":14,"../animations/coin-line-stack-02.js":15,"../utils/util":36}],35:[function(e,t,i){"use strict";function n(e,t){0!=t.loopCount&&t.loopCount===e.numberOfLoops&&(e.persistent||(t.loop=!1,e.alpha=0))}function o(e,t,i,n){e.time.events.add(i,function(){t.alpha=1,t.animations.play("animation",n,!t.persistent)})}function a(e,t,i,a,s,r,l,c,u,f,h,d){for(var p=f.offsetWidth*window.devicePixelRatio,g=f.offsetHeight*window.devicePixelRatio,y=f.offsetLeft*window.devicePixelRatio,m=f.offsetTop*window.devicePixelRatio,b=p/100,w=g/100,v=[],P=0;P<t.length;P++){var S=h.add.sprite(y+t[P]*b,m+i[P]*w,e);d.add(S),S.anchor.set(r),S.animations.add("animation"),S.alpha=0,S.persistent=u,o(h,S,a[P],l),S.scale.x=p*c[P]/100/S.width,S.scale.y=S.scale.x,v.push(S),null!=s&&(S.numberOfLoops=s[P],S.animations.currentAnim.onLoop.add(n,this))}return v}Object.defineProperty(i,"__esModule",{value:!0}),i.onLoop=n,i.playAnimation=o,i.playAnimations=a},{}],36:[function(e,t,i){"use strict";function n(e,t){return t||(t=0),Math.floor(Math.random()*(e-t+1))+t}function o(e){return e[this.rndInt(e.length-1,0)]}function a(e){return e||(e=1),"rgba("+this.rndInt(256)+","+this.rndInt(256)+","+this.rndInt(256)+","+e+")"}function s(){return window.innerHeight>window.innerWidth}function r(e){return JSON.parse(JSON.stringify(e))}function l(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}function c(e){return-1===e.lastIndexOf(".")?e:e.substring(0,e.lastIndexOf("."))}function u(e){e.style.opacity=0;var t=+new Date;!function i(){e.style.opacity=+e.style.opacity+(new Date-t)/400,t=+new Date,+e.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))}()}function f(e){return 100*Math.sqrt(2*Math.abs(e)/y)}function h(e){var t={boolean:{},number:{},string:{}},i=[];return e.filter(function(e){var n=void 0===e?"undefined":g(e);return n in t?!t[n].hasOwnProperty(e)&&(t[n][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)})}function d(e,t){var i,n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function p(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}Object.defineProperty(i,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.rndInt=n,i.sample=o,i.rndRgba=a,i.isPortrait=s,i.clone=r,i.remove=l,i.removeExtension=c,i.fadeIn=u,i.calcQuadTime=f,i.uniq=h,i.extend=d,i.numberWithCommas=p;var y=19.8},{}],37:[function(e,t,i){"use strict";function n(e){for(var t=0;t<PiecSettings.spins.length;t++)if(null!=PiecSettings.spins[t].winMessage){var i=PiecSettings.spins[t].winMessage.src.substr(0,PiecSettings.spins[t].winMessage.src.indexOf("."));e.load.image(i,PiecSettings.assetsDir+PiecSettings.spins[t].winMessage.src)}}function o(e,t,i){var n=t.src.substr(0,t.src.indexOf(".")),o=document.getElementById("win-message-container"),a=o.offsetWidth*window.devicePixelRatio,s=o.offsetHeight*window.devicePixelRatio,r=o.getBoundingClientRect().left*window.devicePixelRatio,l=o.getBoundingClientRect().top*window.devicePixelRatio,c=e.add.sprite(r+a/2,l+s/2,n);c.anchor.set(.5);var u=a/c.width;c.scale.x=0,c.scale.y=0,i.add(c);e.add.tween(c.scale).to({x:u,y:u},t.duration,Phaser.Easing.Bounce.Out,!0,0)}Object.defineProperty(i,"__esModule",{value:!0}),i.preloadWinMessages=n,i.playWinMessage=o},{}]},{},[18]);
